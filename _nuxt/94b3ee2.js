(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{472:function(e,t,r){"use strict";var n,c,o,l,f,m,d,v,h,w,x=r(26),R=(r(70),r(73),r(30),r(116).default),k=function(){var e=Object(x.a)(regeneratorRuntime.mark((function e(t,r,n,c,data){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={method:r,baseURL:t.state.session.currentService.host,validateStatus:function(){return!0},url:n,params:c,data:data,withCredentials:!0},t.state.session.currentService.host.startsWith("http://localhost")&&(o.auth={username:t.state.session.currentService.username,password:t.state.session.currentService.password}),e.prev=2,e.next=5,R(o);case 5:if(401!==(l=e.sent).status){e.next=15;break}return console.log("401 - getting new session"),e.next=10,y.getSession(t.state.session.currentService.host,t.state.session.currentService.username,t.state.session.currentService.password);case 10:if(!e.sent){e.next=15;break}return e.next=14,R(o);case 14:l=e.sent;case 15:if(!(l.status>300)){e.next=17;break}throw new Error(l);case 17:return e.abrupt("return",l.data);case 20:return e.prev=20,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t,r,n,c,o){return e.apply(this,arguments)}}(),y={getSession:(w=Object(x.a)(regeneratorRuntime.mark((function e(t,r,n){var c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"post",baseURL:t,url:"/_session",data:{name:r,password:n},withCredentials:!0},e.prev=1,e.next=4,R(c);case 4:return o=e.sent,e.abrupt("return",o);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),function(e,t,r){return w.apply(this,arguments)}),loadDbs:(h=Object(x.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t,"get","/_all_dbs",{},void 0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)}),getDBInfo:(v=Object(x.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/".concat(encodeURIComponent(r)),e.next=3,k(t,"get",n,{},void 0);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return v.apply(this,arguments)}),getDocs:(d=Object(x.a)(regeneratorRuntime.mark((function e(t,r,n,c){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c||(c=1),o="/".concat(encodeURIComponent(r),"/_all_docs"),l={include_docs:!0,skip:20*(c-1),limit:20},n&&(l.startkey=JSON.stringify(n),l.endkey=JSON.stringify(n+"z")),e.next=6,k(t,"get",o,l,void 0);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return d.apply(this,arguments)}),getDoc:(m=Object(x.a)(regeneratorRuntime.mark((function e(t,r,n){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/".concat(encodeURIComponent(r),"/").concat(n),e.next=3,k(t,"get",c,{},void 0);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,t,r){return m.apply(this,arguments)}),putDB:(f=Object(x.a)(regeneratorRuntime.mark((function e(t,r,n){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/".concat(encodeURIComponent(r)),e.next=3,k(t,"put",c,n,void 0);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,t,r){return f.apply(this,arguments)}),postDoc:(l=Object(x.a)(regeneratorRuntime.mark((function e(t,r,n){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/".concat(encodeURIComponent(r)),e.next=3,k(t,"post",c,{},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,t,r){return l.apply(this,arguments)}),deleteDoc:(o=Object(x.a)(regeneratorRuntime.mark((function e(t,r,n){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/".concat(encodeURIComponent(r),"/").concat(n._id),e.next=3,k(t,"delete",c,{rev:n._rev},void 0);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,t,r){return o.apply(this,arguments)}),explain:(c=Object(x.a)(regeneratorRuntime.mark((function e(t,r,n){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/".concat(encodeURIComponent(r),"/_explain"),e.next=3,k(t,"post",c,{},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,t,r){return c.apply(this,arguments)}),find:(n=Object(x.a)(regeneratorRuntime.mark((function e(t,r,n){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/".concat(encodeURIComponent(r),"/_find"),e.next=3,k(t,"post",c,{},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,t,r){return n.apply(this,arguments)})};t.a=y},505:function(e,t,r){r(6)({target:"Object",stat:!0},{is:r(291)})},806:function(e,t,r){"use strict";r.r(t);var n,c=r(26),o=(r(11),r(4),r(23),r(145),r(70),r(472)),l=r(114),f={data:function(){return{filter:""}},asyncData:function(e){return Object(c.a)(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=e.store).commit("cache/setCurrentDB",null),r.commit("cache/setCurrentID",null),(n=r.state.cache.dbList)&&0!==n.length){t.next=9;break}return t.next=7,o.a.loadDbs(r);case 7:c=t.sent,r.commit("cache/setDbList",c);case 9:case"end":return t.stop()}}),t)})))()},methods:{onClickDB:(n=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.$router.push(l.a.db(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},computed:{filteredDBList:function(){var e=this;return this.filter?this.$store.state.cache.dbList.filter((function(t){return t.match(e.filter)})):this.$store.state.cache.dbList}}},m=f,d=r(45),v=r(59),h=r.n(v),w=r(194),x=r(195),R=r(135),k=r(196),y=r(199),_=r(65),O=r(794),D=r(58),component=Object(d.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-toolbar",{attrs:{color:"blue-grey lighten-5"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-filter",hint:"filter database list",clearable:"","single-line":""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),e._v(" "),r("v-list",e._l(e.filteredDBList,(function(t){return r("v-list-item",{key:t,on:{click:function(r){return e.onClickDB(t)}}},[r("v-list-item-avatar",[r("v-icon",[e._v("mdi-database")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n          "+e._s(t)+"\n        ")])],1),e._v(" "),r("v-list-item-action",[r("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-arrow-right")])],1)],1)})),1)],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VIcon:w.a,VList:x.a,VListItem:R.a,VListItemAction:k.a,VListItemAvatar:y.a,VListItemContent:_.a,VListItemTitle:_.c,VTextField:O.a,VToolbar:D.a})}}]);